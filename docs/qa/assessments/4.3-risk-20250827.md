# Risk Profile: Story 4.3

Date: 2025-08-27
Reviewer: Quinn (Test Architect)

## Executive Summary

- Total Risks Identified: 3
- Critical Risks: 0
- High Risks: 0
- Risk Score: 93/100

## Critical Risks Requiring Immediate Attention

None. No risks scored Critical (9) or High (6).

## Risk Distribution

### By Category

- Security: 0 risks (0 critical)
- Performance: 1 risk (0 critical)
- Data: 0 risks (0 critical)
- Business: 0 risks (0 critical)
- Operational: 1 risk (0 critical)
- Technical: 1 risk (0 critical)

### By Component

- Frontend (content script/options): 3 risks
- Backend/DB/Infra: 0 risks (N/A for this extension scope)

## Detailed Risk Register

| Risk ID   | Description                                                    | Prob | Impact | Score | Priority |
|-----------|----------------------------------------------------------------|------|--------|-------|----------|
| TECH-001  | Keyboard shortcut conflicts with Gmail or extensions           | 2    | 2      | 4     | Medium   |
| PERF-001  | Degradation with 100+ rendered images per email                | 1    | 2      | 2     | Low      |
| OPS-001   | Behavioral differences in real Gmail vs. test harness context | 2    | 1      | 2     | Low      |

### TECH-001: Keyboard shortcut conflicts with Gmail or other extensions

Score: 4 (Medium)
Probability: Medium — Multiple Gmail shortcuts exist; overlap possible
Impact: Medium — Lost productivity / unexpected actions
Mitigation:
- Provide toggle for `enableKeyboardShortcuts` (already implemented)
- Use `keydown` filtering for target compose areas only
- Offer remapping in future if conflicts are common
Testing Focus:
- Execute conflict smoke test in live Gmail across major browsers

### PERF-001: Degradation with 100+ rendered images per email

Score: 2 (Low)
Probability: Low — Heavy messages are less common
Impact: Medium — Scrolling/render latency
Mitigation:
- Debounce re-processing and clean up observers (implemented)
- Batch DOM mutations where possible
Testing Focus:
- Load test with 100–150 images; measure responsiveness

### OPS-001: Real Gmail differences vs. test harness

Score: 2 (Low)
Probability: Medium — Gmail DOM/layout varies
Impact: Low — Minor breakages/selector drift
Mitigation:
- Smoke test in live Gmail; version selectors carefully
- Keep non-fatal error logging for quick triage
Testing Focus:
- Sanity run against live Gmail compose and read views

## Risk-Based Testing Strategy

Priority 1: Medium Risk Tests
- Shortcut conflict smoke tests in live Gmail (compose, reply, forward)

Priority 2: Low Risk Tests
- Load test heavy emails (100+ images) and monitor interaction latency
- Verify selectors and handlers in live Gmail layouts

## Risk Acceptance Criteria

Must Fix Before Production
- None identified for this story

Can Deploy with Mitigation
- TECH-001: Proceed with documented toggle and smoke test plan

Accepted Risks
- PERF-001, OPS-001 — acceptable with monitoring

## Monitoring Requirements

- Track error logs for click-to-edit failures
- Collect telemetry on shortcut usage and conflicts (if added later)

---

risk_summary:
  totals:
    critical: 0
    high: 0
    medium: 1
    low: 2
  highest:
    id: TECH-001
    score: 4
    title: 'Keyboard shortcut conflicts with Gmail or extensions'
  recommendations:
    must_fix: []
    monitor:
      - 'Run live Gmail shortcut conflict smoke tests'
      - 'Load test heavy message with 100+ images'

Risk profile: docs/qa/assessments/4.3-risk-20250827.md

